<div class="popup">
  <h2>Add Expense</h2>
  <form>
    <!-- Expense Title -->
    <div>
      <label for="title">Expense Title:</label>
      <input id="title" [(ngModel)]="expense.title" name="title" />
    </div>

    <!-- Currency Dropdown -->
    <div>
      <label for="currency">Currency:</label>
      <select
        id="currency"
        [(ngModel)]="expense.currency"
        name="currency"
    
      >
        <option *ngFor="let currency of currencyOptions" [value]="currency">
          {{ currency }}
        </option>
      </select>
    </div>

    <!-- Amount -->
    <div>
      <label for="amount">Amount:</label>
      <input
        id="amount"
        type="number"
        [(ngModel)]="expense.amount"
        name="amount"
      
      />
    </div>

    <!-- Payer Dropdown -->
    <div>
      <label for="payer">Payer:</label>
      <select
        id="payer"
        [(ngModel)]="expense.paidBy"
        name="payer"
      >
        <option *ngFor="let member of membersNames" [value]="member.email">
          {{ member.name }}
        </option>
      </select>
    </div>

    <!-- Equally Checkbox -->
    <div>
      <label for="equally">Split Equally:</label>
      <input
        id="equally"
        type="checkbox"
        [(ngModel)]="expense.equally"
        name="equally"
        (change)="toggleEqually()"
      />
    </div>

    <!-- Checklist for Members -->
    <div *ngIf="!expense.equally">
      <label>Members:</label>
      <div *ngFor="let member of membersNames">
        <input
          type="checkbox"
          [id]="member.email"
          [checked]="expense.selectedMembers.includes(member.email)"
          (change)="toggleMemberSelection(member.email, $event)"
        />
        <label [for]="member.email">{{ member.name }}</label>
      </div>
    </div>

    <!-- Save and Cancel Buttons -->
    <button type="button" (click)="addExpenseData()">Save</button>
    <button type="button" (click)="close()">Cancel</button>
  </form>
</div>
